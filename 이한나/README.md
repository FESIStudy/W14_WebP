## **1. WebP란?**

- **정의**
    
    WebP는 구글에서 개발한 **이미지 압축 포맷**으로, 웹 성능 향상을 목적으로 만들어짐.
    JPEG, PNG, GIF의 장점을 흡수하면서 **더 높은 압축률**을 제공
    
- **개발 배경**
    
    구글은 웹의 속도를 개선하고, **전체 네트워크 트래픽을 절감**하기 위해 WebP를 개발
    이미지가 웹 페이지 용량의 큰 부분을 차지하기 때문에, 이미지 최적화는 웹 성능 향상에 매우 중요
    
- **JPEG, PNG, GIF 대비 특징 비교**
    
    
    | 포맷 | 손실 압축 | 무손실 압축 | 알파(투명도) | 애니메이션 |
    | --- | --- | --- | --- | --- |
    | JPEG | ✅ | ❌ | ❌ | ❌ |
    | PNG | ❌ | ✅ | ✅ | ❌ |
    | GIF | ❌ | ✅ | ❌ (1bit) | ✅ |
    | WebP | ✅ | ✅ | ✅ | ✅ |
- **장점**
    - 파일 용량 대폭 절감 (JPEG 대비 최대 30%)
    - 투명도 + 애니메이션 + 압축 방식 통합
    - 모바일 환경에서 특히 유리
- **단점**
    - 오래된 브라우저 호환성 이슈 (현재는 대부분 해결)
    - 압축 시 CPU 사용량 높음
    - 일부 그래픽 툴에서 완전한 지원 부족 (이제 많이 개선됨)


## **2. WebP의 작동 원리**

- **기반 기술: VP8 비디오 코덱**
    WebP는 구글의 VP8 비디오 포맷을 이미지로 변형한 것
    
- **압축 과정 (손실 기준)**
    1. **예측 (Prediction)**: 픽셀 블록을 주변 블록 기반으로 예측
    2. **변환 (Transformation)**: 잔차(residual)를 DCT 변환
    3. **부호화 (Encoding)**: Huffman 코딩 등으로 압축
- **손실 vs 무손실 차이**
    - **손실 WebP**: JPEG처럼 데이터를 버려 용량 감소. 더 높은 압축률.
    - **무손실 WebP**: 원본과 동일한 데이터를 유지하며 압축. PNG 대체 가능.
- **압축 알고리즘 주요 요소**
    - Color Transform: 색상 데이터를 더 압축하기 좋게 변환
    - Spatial Prediction: 주변 픽셀을 바탕으로 패턴 예측
    - Huffman Coding: 데이터 빈도 기반 압축

---

## **3. WebP와 기존 포맷 비교**

| 항목 | JPEG | PNG | GIF | WebP |
| --- | --- | --- | --- | --- |
| 압축 방식 | 손실 | 무손실 | 무손실 | 손실/무손실 |
| 투명도 | ❌ | ✅ | ❌ (1bit) | ✅ |
| 애니메이션 | ❌ | ❌ | ✅ | ✅ |
| 압축률 | 중 | 낮음 | 낮음 | 높음 |
| 지원 범위 | 매우 넓음 | 넓음 | 넓음 | 점점 확장 중 |

## **4. WebP 지원 이슈 및 대체 전략**

- **지원 현황**
    - 현재 대부분 브라우저에서 WebP 지원
- **구버전 대응**
    - `<picture>` 태그와 fallback `<img>`로 대응
        
        ```html
        <picture>
          <source srcset="image.webp" type="image/webp">
          <img src="image.jpg" alt="example image">
        </picture>
        
        ```
        
- **IE 등 비호환 대응**
    - 서버 측 User-Agent sniffing → JPEG/PNG로 변환 제공
    - Polyfill은 현재 거의 불필요

## **5. WebP 이후의 대체 포맷 (미래 대비)**

- **AVIF**
    - AV1 비디오 코덱 기반
    - WebP보다 더 높은 압축률과 품질
    - HDR 이미지, 깊은 색상 표현 지원
    - 다만 현재는 디코딩 속도가 느리고, 일부 브라우저 지원 미흡
- **JPEG XL**
    - JPEG의 진화 버전
    - 무손실 및 손실 모두 지원
    - 애니메이션, 알파 채널 포함
    - 구글은 WebP2 대신 JPEG XL을 장기적으로 지원할 가능성 있음

## **6. WebP 도입 시 고려사항**

- **이미지 포맷 혼용 전략**
    - 중요 콘텐츠: WebP + Fallback
    - 부가 콘텐츠: WebP만 사용 가능
- **SEO 최적화**
    - `<img srcset>` + `sizes` 속성으로 다양한 해상도 대응
    - Lazy loading, 적절한 alt 텍스트 사용도 중요
- **퍼포먼스 측정 도구**
    - Lighthouse, PageSpeed Insights
    - WebP 적용 전/후 비교: LCP, CLS, TTFB 개선 효과 확인
- **실무 적용 사례**
    - WebP 적용 후 이미지 용량 30~70% 절감
    - 페이지 로딩 시간 개선 → SEO & 사용자 만족도 ↑
    - 예: 메인 배너 Q80, 썸네일 Q60으로 절감률 극대화