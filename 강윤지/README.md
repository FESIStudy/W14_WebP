## 1. WebP란?

- Google에서 개발한 **차세대 이미지 포맷**
- JPEG, PNG, GIF를 대체할 수 있도록 설계됨
- **손실(Lossy)**, **무손실(Lossless)** 압축 모두 지원

---

## 2. WebP의 특징

- **작은 파일 크기**
    - JPEG 대비 최대 34% 더 작음
    - PNG 대비 최대 26% 더 작음
- **투명도(Alpha) 지원**
    - PNG처럼 배경 투명 가능
- **애니메이션 지원**
    - GIF 대체 가능
- **메타데이터 포함 가능**
    - ICC 프로파일, XMP 등 저장 가능

---

## 3. WebP vs 기존 이미지 포맷

| 포맷 | 압축 방식 | 투명도 | 애니메이션 | 파일 크기 | 호환성 |
| --- | --- | --- | --- | --- | --- |
| JPEG | 손실 | ❌ | ❌ | 중간 | ✅ 넓음 |
| PNG | 무손실 | ✅ | ❌ | 큼 | ✅ 넓음 |
| GIF | 무손실 | ✅ | ✅ | 큼 | ✅ 넓음 |
| **WebP** | 손실/무손실 | ✅ | ✅ | 작음 | 🌐 브라우저 대부분 지원 |

### 🔁 압축 방식

#### 손실 압축 (Lossy)

- 주변 픽셀 값 예측 → DCT(이산 코사인 변환) → 양자화 → 부호화
- JPEG보다 **더 정교한 예측 + 색상 공간 분리 + 허프만 인코딩** 사용

#### 무손실 압축 (Lossless)

- 기존 PNG보다 높은 압축률
- **색상 변환(Color Transform)** + **LZ77 압축 + 허프만 부호화**
- 특정 패턴의 반복, 공간적 유사성을 더 정밀하게 분석

---

## 4. 브라우저 지원

- ✅ Chrome, Edge, Firefox, Safari(14+), Opera 등
- ❌ IE 등 일부 구형 브라우저에서는 미지원
→ **fallback** 전략 필요

---

## 5. WebP 변환 & 적용 방법

### 🔧 변환 도구

- CLI: `cwebp`
- 웹 도구: [Squoosh](https://squoosh.app/)
- Node.js: [`sharp`](https://www.npmjs.com/package/sharp)
- Photoshop 플러그인 등

### 💡 HTML 예시

```html
<picture>
  <source srcset="image.webp" type="image/webp" />
  <img src="image.jpg" alt="이미지 설명" />
</picture>
```

---

## 6. WebP의 한계

- 구형 브라우저 호환성
- 압축 시 품질 손실 가능성 (손실 압축 시)
- 일부 플랫폼/라이브러리에서 미지원 (이슈 점검 필요)

---

## 7. **WebP 이후의 대체 포맷**

WebP vs AVIF vs JPEG XL

| 항목 | WebP | AVIF | JPEG XL |
| --- | --- | --- | --- |
| 개발사 | Google | AOMedia (Google 등 참여) | JPEG Committee |
| 압축 성능 | 좋음 | **매우 우수** | **매우 우수** |
| 파일 크기 | 작음 | **WebP보다 작음** | AVIF 수준 또는 더 나음 |
| 투명도 지원 | ✅ | ✅ | ✅ |
| 애니메이션 | ✅ | ✅ | ✅ |
| 디코딩 속도 | 빠름 | 느림 (CPU 부하 큼) | **빠름** |
| 브라우저 지원 | ✅ 대부분 지원 | ✅ (Safari 제외 일부 제한) | ❌ 일부 실험적 |
| 실무 채택률 | 높음 | 증가 중 | 낮음 (아직 실험적) |
| 특징 | 성능/호환성 균형 | **최고 압축률**, 느린 속도 | JPEG 호환, 고성능, 미래지향 |

> 💡 정리:
> 
> - **WebP**: 안정성과 호환성이 뛰어나 현재 가장 실무에 적합
> - **AVIF**: 더 좋은 압축 성능이지만 느린 디코딩 속도와 낮은 호환성이 단점
> - **JPEG XL**: 장점이 많지만 아직 **표준화** 및 **브라우저 채택률 낮음**
